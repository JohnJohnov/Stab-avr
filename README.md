## Stab-avr
#### Простой стабилизированный регулятор мощности нагревателя (ТЭНа) из китайских модулей.

[Описание и обсуждение устройства на форуме *alcodistillers.ru*](https://alcodistillers.ru/forum/viewtopic.php?id=1549 "alcodistillers.ru")

В устройстве используется библиотека дисплея [ASOLED](https://github.com/NikolayDikiy/ASOLED)

Начиная с версии **0.96** устройство поддерживает [**протокол передачи информационных и управляющих данных между стабилизатором мощности/напряжения/тока и управляющим устройством**](https://github.com/JohnJohnov/Stab-avr/blob/main/Protocol.md)

Начиная с версии **0.97** устройство поддерживает протоколы **РМВ-К UART** и **Samovar**

***
![Схема устройства](https://github.com/JohnJohnov/Stab-avr/blob/main/Stab-avr_circuit.png "Схема устройства")

***
#### Настройка библиотеки для работы с дисплеями на основе контроллера **SH1106**
_перед компиляцией скетча необходимо раскомментировать строку **26**_    
_в заголовочном файле **ASOLED.h** библиотеки дисплея [ASOLED](https://github.com/NikolayDikiy/ASOLED)_    
>`#define _SH1106_              // comment this line for SSD1306`

#### Настройка частоты шины I2C
_По умолчанию в библиотеке дисплея частота шины I2C выставлена в 400кГц._   
_Известны случаяи, когда при такой частоте контроллер Arduino зависал._   
_Устранить зависания удалось снижением частоты шины до 100кГц._   
_Для этого следует обнулить параметр в **21** строке_    
_заголовочного файла **ASOLED.h** библиотеки дисплея [ASOLED](https://github.com/NikolayDikiy/ASOLED)_   
>`#define I2C_400KHZ			0	// 0 to use default 100Khz, 1 for 400Khz`
